( Copyright Â© 2022 Sam Blenny)  OK
( SPDX-License-Identifier: MIT)  OK
  OK
: 2d drop drop ;  OK
: 4d 2d 2d ;  OK
: t01 3 for{ r 1 and }for iod ;      t01  (  1 0 1 0  OK)  1 0 1 0  OK
4d  OK
: t02 true  if{ 4 iod ; }if 5 iod ;   t02       (  4  OK)  4  OK
drop  OK
: t03 false if{ 4 iod ; }if 5 iod ;   t03       (  5  OK)  5  OK
drop  OK
iod                                (  Stack is empty  OK)  Stack is empty  OK
23 const t04 iod                   (  Stack is empty  OK)  Stack is empty  OK
var t05 5 t05 ! iod                (  Stack is empty  OK)  Stack is empty  OK
0 opcode nop iod                   (  Stack is empty  OK)  Stack is empty  OK
"   t06: a string" print            (  t06: a string  OK)  t06: a string  OK
: t07 "   another one" print ; t07     (  another one OK)  another one  OK
" foo" const t08  " foo" t08 strcmp .           ( -1  OK) -1  OK
" bar" const t09  t08 t09 strcmp .               ( 0  OK) 0  OK
: foo? t08 here word strcmp . ;  foo? foo       ( -1  OK) -1  OK
load" test/load_test.mkb"                      ( t10  OK) t10  OK
( t11: Malformed if-block)  OK
: t11 }if ;                                    (  ERR 12)  ERR 12
err .                                            ( 0  OK) 0  OK
( t12: Compiling/OK prompts during compile)  OK
: t12 true if{                              (  Compiling)  Compiling
    ;                                       (  Compiling)  Compiling
  }if                                       (  Compiling)  Compiling
;                                                  (  OK)  OK
( t13: Unknown word during load)  OK
load" test/load_t13.mkb"         (  ? not-a-name  ERR 11)  ? not-a-name  ERR 11
2: : t13 not-a-name ;
ERROR on line 2 of test/load_t13.mkb
  ERR 11
err .                                            ( 0  OK) 0  OK
LOADNEST? .                                      ( 0  OK) 0  OK
( t14: Attempted infinite load" recursion)  OK
load" test/load_t14.mkb"                       (  ERR 13)  ERR 13
2: load" test/load_t14.mkb"
ERROR on line 2 of test/load_t14.mkb
2: load" test/load_t14.mkb"
ERROR on line 2 of test/load_t14.mkb
  ERR 13
err .                                            ( 0  OK) 0  OK
LOADNEST? .                                      ( 0  OK) 0  OK
( t15: Attempted infinitely tail-recursive call)  OK
: t15 t15 ;  t15                                (  ERR 8)  ERR 8
  OK
err . ( empty line above is intentional)         ( 0  OK) 0  OK
( t16: Attempted infinitely recursive regular call)  OK
: t16 t16 nop ;  t16                            (  ERR 5)  ERR 5
err . ( empty line above is intentional)         ( 0  OK) 0  OK

